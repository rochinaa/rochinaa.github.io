<!DOCTYPE html><html lang="ru" xml:lang="ru">
<head>
  <link rel="stylesheet" type="text/css" href="css/main.css" />
  <script type="text/javascript" src="script.js"></script>
  <link rel="icon" type="image/png" href="/favicon.png" />
  <title>Полуавтоматическая установка обновлений RDS</title>
</head>
<body onload="DocLoad()">

<div class="text">
<h1>Полуавтоматическая установка обновлений RDS при помощи программы &laquo;RdsGet.exe&raquo;</h1>

<p>Программа &laquo;<span class="file">RdsGet.exe</span>&raquo; может самостоятельно
проверять наличие обновлений RDS, и, при обнаружении обновленных модулей, загружать
и устанавливать их. При установке автоматически создается архив заменяемых файлов,
поэтому последние установленные обновления можно <a href="#light_undo">отменить</a>
с помощью этой же программы, вернув RDS в состояние до обновления.</p>

<p>Загрузка и установка обновлений при помощи программы &laquo;<span class="file">RdsGet.exe</span>&raquo;
возможна <span class="emph">только в том случае</span>, если RDS установлен в папку
&laquo;<span class="file">Мои документы</span>&raquo; или другую папку, в которую
по умолчанию разрешена запись без привилегий администратора. Если RDS установлен в папку
&laquo;<span class="file">Program Files</span>&raquo;,
папку в корне диска &laquo;<span class="file">C</span>&raquo;
и т.п., то программа не сможет распаковать и заменить необходимые для работы файлы. В этом случае
следует, как и раньше, вручную устанавливать обновления из рассылаемых
архивов <span class="file">ZIP</span>.</p>

<p>Программа может использоваться как для обновления любой уже установленной версии RDS, так
и для установки &laquo;с нуля&raquo;, когда в папке нет ничего, кроме программы
&laquo;<span class="file">RdsGet.exe</span>&raquo; и необходимых для ее работы библиотек
во вложенной папке &laquo;<span class="file">\Dll</span>&raquo;.</p>

<p>Программы &laquo;<span class="file">RdsGet.exe</span>&raquo; и
&laquo;<span class="file"><a href="rdsunpack.html">RdsUnpack.exe</a></span>&raquo;
используют одинаковый формат файлов, поэтому модули обновления можно, при желании,
<a href="updatemodules.html">загружать вручную</a> и устанавливать при помощи
&laquo;<span class="file">RdsUnpack.exe</span>&raquo;.</p>

<p>В процессе установки программе &laquo;<span class="file">RdsGet.exe</span>&raquo; требуется доступ в Интернет,
поэтому в антивирусе или сетевом экране нужно разрешить ей этот доступ. Кроме того, вспомогательной
программе &laquo;<span class="file">rdscopier.exe</span>&raquo; необходимо разрешить копирование
и удаление файлов &ndash; эта программа автоматически создается для того, чтобы
можно было обновить исполняемый файл &laquo;<span class="file">RdsGet.exe</span>&raquo;.</p>

<p>После установки обновлений любым способом <span class="emph">крайне желательно</span> проверить всю папку RDS
на наличие вирусов.</p>


<h1>Запуск и тестирование возможности обновления</h1>

<p>Для проверки наличия обновлений, их загрузки и установки следует запускать программу
&laquo;<span class="file">RdsGet.exe</span>&raquo; из папки установки RDS. Перед этим
<span class="emph">необходимо закрыть все запущенные копии RDS</span>, иначе
файлы RDS будут заблокированы и программа не сможет их обновить.</p>

<div class="pic"><div class="container" id="pic_explorer">
<img src="img/rdsget_explorer.png" width="559" height="369" alt="Программа RdsGet.exe" />
<p id="light_pic_explorer">Программа &laquo;<span class="file">RdsGet.exe</span>&raquo; в папке установки RDS</p>
</div></div>

<p>При первом запуске программа предложит протестировать возможность чтения/записи файлов
в папке установки RDS, выведя сообщение &laquo;Провести проверку возможности записи и
изменения исполняемых файлов в текущей папке установки (это необходимо для работы
программы обновления)?&raquo;. В этом сообщении можно выбрать один из трех вариантов
ответа:</p>
<ul>
  <li>&laquo;Да&raquo; &ndash; программа проверит возможность работы с файлами (рекомендуется);</li>
  <li>&laquo;Нет&raquo; &ndash; программа не будет ничего проверять и больше не будет предлагать
  провести проверку;</li>
  <li>&laquo;Отмена&raquo; &ndash; сейчас программа не будет ничего проверять, но снова предложит
  провести проверку при следующем запуске.</li>
</ul>

<p class="noindent"><span class="emph">Настоятельно рекомендуется</span> выполнить предлагаемую
проверку. Проверка займет некоторое время, и, по ее окончании, будет выведен отчет со списком
удачных и неудачных операций.</p>

<p>Если в процессе проверки были обнаружены ошибки, в окне программы красным цветом будут
выведены соответствующие сообщения, а в конце отчета будет написано
&laquo;Обновление может не работать: возможно, недостаточно прав&raquo;
(см. <a href="#pic_errors">рисунок</a>). В этом случае следует либо заново установить RDS в
другую папку (например, в папку внутри папки &laquo;<span class="file">Мои документы</span>&raquo;),
либо, если это по каким-либо причинам невозможно, вручную устанавливать обновления из
рассылаемых разработчиками архивов <span class="file">ZIP</span> без использования программы
&laquo;<span class="file">RdsGet.exe</span>&raquo;.</p>

<div class="pic"><div class="container" id="pic_errors">
<img src="img/rdsget_error.png" width="738" height="515" alt="Ошибки при проверке" />
<p id="light_pic_errors">Отчет о неудачной проверке работы с файлами в папке установки RDS</p>
</div></div>

<p>Если в процессе проверки ошибок не было, в окне программы рядом с названием каждой операции
будет отображаться зеленая галочка, а в конце отчета будет написано
&laquo;Все тесты выполнены успешно&raquo; (см. <a href="#pic_testok">рисунок</a>). Это
значит, что программа, вероятнее всего, сможет обновлять исполняемые файлы RDS.</p>

<div class="pic"><div class="container" id="pic_testok">
<img src="img/rdsget_testok.png" width="738" height="515" alt="Успешная проверка" />
<p id="light_pic_testok">Отчет об успешном завершении проверки работы с файлами в папке установки RDS</p>
</div></div>

<p>После проверки для перехода к главному окну программы следует нажать кнопку &laquo;Продолжить&raquo;.</p>

<h1>Загрузка и установка обновлений</h1>

<p><a href="#pic_main">Главное окно</a> программы обычно содержит список доступных обновлений.
По умолчанию программа <a href="#light_setup">настроена</a> так, чтобы проверять наличие обновлений
при каждом запуске. Если эта настройка
выключена, то на месте списка будет написано &laquo;Обновления не проверялись&raquo;, и для
получения списка обновлений следует нажать кнопку &laquo;Проверить&raquo; в правой части окна.
Если в данный момент установлена последняя версия RDS, не требующая обновления,
то на месте списка будет написано &laquo;Нет обновленных модулей&raquo;.</p>

<div class="pic"><div class="container" id="pic_main">
<img src="img/rdsget_main.png" width="738" height="515" alt="Главное окно" />
<p id="light_pic_main">Главное окно программы со списком обновлений</p>
</div></div>

<p>Список обновлений в окне разделен на категории: &laquo;основные файлы&raquo;,
&laquo;справка&raquo; и т.п. В каждой категории перечислены модули, которые можно установить.
Слева от названий модулей, выбранных для установки, отображаются галочки, которые можно
включать и выключать щелчком левой кнопки мыши. Под списком модулей выводится
краткое описание модуля, выбранного в данный момент.</p>

<p>Справа от списка находятся кнопки, разрешающие или запрещающие установку выбранного в списке модуля
и управляющие работой программы:</p>

<div class="tablecenter"><div class="tcont">
<table>
  <tr>
    <th>Кнопка</th>
    <th>Действие</th>
  </tr>
  <tr>
    <td class="allcenter">
    <img class="btn" src="img/Button_Check.png" width="24" height="24" alt="Кнопка: вкл" /></td>
    <td class="vcenter">Устанавливать выбранный модуль (ставит галочку слева от названия выбранного
    модуля, вместо использования этой кнопки можно просто щелкнуть левой кнопкой мыши по
    месту для галочки).</td>
  </tr>
  <tr>
    <td class="allcenter">
    <img class="btn" src="img/Button_Uncheck.png" width="24" height="24" alt="Кнопка: выкл" /></td>
    <td class="vcenter">Не устанавливать выбранный модуль (снимает галочку слева от названия выбранного
    модуля, вместо использования этой кнопки можно просто щелкнуть левой кнопкой мыши по
    галочке).</td>
  </tr>
  <tr>
    <td class="allcenter">
    <img class="btn" src="img/Button_RedCross.png" width="24" height="24" alt="Кнопка: удалить" /></td>
    <td class="vcenter">Не устанавливать выбранный модуль и больше не предлагать его установку
    (действие этой кнопки можно отменить в <a href="#light_setup_mod">настройках</a> программы).</td>
  </tr>
  <tr>
    <td class="allcenter">
    <img class="btn" src="img/Button_Ellipsis.png" width="24" height="24" alt="Кнопка: дополнительно" /></td>
    <td class="vcenter">Открывает меню дополнительных действий со следующими пунктами:
    <ul>
      <li>&laquo;Показывать модули требующие обновления&raquo; (выбрано по умолчанию) &ndash;
      показывать в списке только те модули, для которых есть доступные обновления;</li>
      <li>&laquo;Показывать все модули&raquo; &ndash; показывать в списке все модули, включая те,
      которые обновления не требуют;</li>
      <li>&laquo;Всегда перезаписывать файлы (не рекомендуется)&raquo; &ndash;
      при установке выбранных обновлений заменять существующие файлы RDS на файлы из загруженных
      модулей <span class="emph">даже если существующие файлы новее</span> (может использоваться для
      устранения ошибок при ручном обновлении RDS экспериментальными модулями).</li>
    </ul></td>
  </tr>
</table>
</div></div>

<p>Выбор, сделанный пользователем в списке, запоминается программой. Например, если отказаться
от установки какого-либо модуля, при следующем запуске программы галочки слева от его названия
не будет.</p>

<p>Для установки обновления следует нажать кнопку &laquo;Установить&raquo; в правой части окна.
Программа начнет загружать и распаковывать архивы модулей, при этом в ее окне будут
<a href="#pic_inprogress">отображаться</a> выполняемые действия и их результаты. Если
<a href="#light_undo">отмена операций</a> не отключена в <a href="#light_setup">настройках</a> программы,
то по окончании установки обновлений
будет создан архив с замененными или удаленными в процессе обновления файлами, с помощью которого
это обновление можно будет отменить.</p>

<div class="pic"><div class="container" id="pic_inprogress">
<img src="img/rdsget_inprogress.png" width="738" height="515" alt="Отчет об установке" />
<p id="light_pic_inprogress">Отчет о загрузке и установке обновлений</p>
</div></div>

<p>Если выбранные обновления были установлены успешно, в конце отчета быдет выведено соответствующее
сообщение. При настройках по умолчанию окно программы при этом автоматически закроется через
10 секунд. Если же в процессе установки были обнаружены ошибки, в отчете будут сообщения об этом с
красными и желтыми значками, и окно программы останется на экране.</p>

<h1 id="light_setup">Настройка программы</h1>

<p>Для настройки параметров программы следует нажать кнопку &laquo;Настройка&raquo;
в правой части <a href="#pic_main">главного окна</a> программы. При этом откроется отдельное
окно с двумя вкладками.</p>

<p>На вкладке &laquo;<a href="#pic_setup_gen">Общие</a>&raquo; задаются настройки,
управляющие поведением и внешним видом программы.</p>

<div class="pic"><div class="container" id="pic_setup_gen">
<img src="img/rdsget_setup_gen.png" width="697" height="460" alt="Настройка: общие" />
<p id="light_pic_setup_gen">Вкладка &laquo;Общие&raquo; окна настройки программы</p>
</div></div>

<ul>
  <li>&laquo;URL списка обновлений&raquo; &ndash; адрес (URL) сайта, откуда
  программа получает список доступных обновлений. По умолчанию программа настроена на
  <a href="updatemodules.html">список</a> на данном сайте, и
  в этом поле ввода указан текст &laquo;https://rochinaa.github.io/updatemodules.html?[[time]]&raquo;.
  Если список обновлений будет перемещен, новый адрес нужно будет получить у разработчиков.</li>

  <li>&laquo;Заменять [[переменные]] на их значения&raquo; &ndash; флажок, позволяющий подставлять
  в адрес сайта, указанный выше, значения внутренних переменных программы. По умолчанию в этот адрес
  подставляется значение текущего времени &laquo;[[time]]&raquo; для предотвращения кэширования
  списка обновлений. Лучше оставить этот флажок включенным.</li>

  <li>&laquo;Проверять обновления при запуске программы&raquo; &ndash; если флажок включен,
  то при запуске программы &laquo;<span class="file">RdsGet.exe</span>&raquo; будет автоматически
  выполняться проверка обновлений. Эту проверку всегда можно выполнить вручную, нажав в главном
  окне программы кнопку &laquo;Проверить&raquo;.</li>

  <li>&laquo;Установить рекомендованные или ранее выбранные обновления и завершить программу&raquo;
  &ndash; если флажок включен, то после проверки все обнаруженные обновления будут установлены
  автоматически, после чего программа завершится. По умолчанию флажок выключен, поскольку такой
  режим не дает пользователю возможности выбрать, какие обновления устанавливать, а какие &ndash; нет.</li>

  <li>&laquo;Завершить программу после успешного обновления&raquo; &ndash; если флажок
  включен, после успешной установки обновлений окно программы будет автоматически закрыто.</li>

  <li>&laquo;Никогда не устанавливать новые модули&raquo; &ndash; если флажок включен,
  программа не будет предлагать установку новых модулей, появившихся в RDS с момента
  последнего обновления. Это не относится к обновлению уже известных программе модулей, флажок
  затрагивает только совершенно новые, ранее не существовавшие, модули. Напрмер, если
  будет обновлена справка RDS, программа предложит установить это обновление. Но если
  в составе RDS появится какое-либо новое описание, для которого будет добавлен отдельный
  модуль обновления, при включенном флажке программа его проигнорирует.</li>

  <li>&laquo;Создавать резервные копии для отмены операций&raquo; &ndash; если флажок включен,
  при каждой установке обновления и при каждом удалении установленного модуля программа
  будет созавать архив со старыми версиями измененных или удаленных файлов,
  с помощью которого обновление или удаление можно будет потом <a href="#light_undo">отменить</a>,
  вернув RDS в исходное состояние. Общий объем хранимых программой архивов задается
  в поле ввода ниже.</li>

  <li>&laquo;Максимальный объем резервных копий, Мб&raquo; &ndash; максимальный объем,
  который могут занимать архивы для отмены обновления. При превышении этого объема самый
  старый архив будет автоматически стираться.</li>

  <li>&laquo;Показывать размеры распакованных файлов в списке обновлений&raquo; &ndash;
  если флажок включен, в <a href="#pic_main">главном окне</a> программы будут, помимо названий
  модулей, отображаться объемы содержащихся в них файлов.</li>
</ul>

<p class="noindent"><span id="light_setup_mod">На вкладке
&laquo;<a href="#pic_setup_mod">Модули</a>&raquo;</span> можно управлять
общим разрешением установки отдельных модулей.</p>

<div class="pic"><div class="container" id="pic_setup_mod">
<img src="img/rdsget_setup_mod.png" width="697" height="460" alt="Настройка: модули" />
<p id="light_pic_setup_mod">Вкладка &laquo;Модули&raquo; окна настройки программы</p>
</div></div>

<p>Вкладка содержит общий список модулей, когда-либо обнаруженных программой. Слева от названия
каждого модуля отображается зеленая галочка, если программа будет предлагать пользователю
устанавливать этот модуль, или красный крест, если программа будет этот модуль игнорировать.
Включать и выключать разрешение установки модуля можно щелчком левой кнопки мыши на галочке
или кресте. Можно также пользоваться кнопками справа от списка модулей:</p>

<div class="tablecenter"><div class="tcont">
<table>
  <tr>
    <th>Кнопка</th>
    <th>Действие</th>
  </tr>
  <tr>
    <td class="allcenter">
    <img class="btn" src="img/Button_GreenCheck.png" width="24" height="24" alt="Кнопка: разрешить" /></td>
    <td class="vcenter">Предлагать пользователю установку выбранного в списке модуля.</td>
  </tr>
  <tr>
    <td class="allcenter">
    <img class="btn" src="img/Button_RedCross.png" width="24" height="24" alt="Кнопка: удалить" /></td>
    <td class="vcenter">Не показывать в главном окне выбранный в списке модуль и не предлагать
    его установку.</td>
  </tr>
</table>
</div></div>

<p>Для сохранения измененных настроек следует нажать кнопку &laquo;OK&raquo;, для выхода без
сохранения &ndash; кнопку &laquo;Отмена&raquo;.</p>

<h1 id="light_undo">Отмена операций</h1>

<p>Если при помощи программы уже были установлены какие-либо обновления, то в правой части
ее <a href="#pic_main">главного окна</a> будет активна кнопка &laquo;Отмена операций&raquo;.
При ее нажатии в окне программы отображается
<a href="#pic_undo">список обновлений и других операций</a>, которые можно отменить.</p>

<div class="pic"><div class="container" id="pic_undo">
<img src="img/rdsget_undo.png" width="738" height="515" alt="Отмена операций" />
<p id="light_pic_undo">Выбор операций для отмены</p>
</div></div>

<p>Операции в списке отсортированы по времени выполнения: более поздние располагаются
в верхней части списка. При выборе для отмены какой-либо операции в этом списке будут
автоматически выбраны и все операции, сделанные позже нее: для восстановления состояния
RDS на какой-то момент времени необходимо отменить все изменения, выполненные
после этого момента. Отменяемые операции помечаются в списке красным крестом, для выбора
самой ранней отменяемой операции следует щелкнуть левой кнопкой мыши на
пустом квадрате или красном кресте слева от названия этой операции (название
содержит дату и время ее выполнения). На <a href="#pic_undo">рисунке</a> выше для отмены выбрана
установка обновления, выполненная 12 августа 2018 года в 19:32 и все более поздние обновления.</p>

<p>Как и в других окнах программы, выбирать операции в списке можно не только щелчками
мыши, но и кнопками справа от списка:</p>

<div class="tablecenter"><div class="tcont">
<table>
  <tr>
    <th>Кнопка</th>
    <th>Действие</th>
  </tr>
  <tr>
    <td class="allcenter">
    <img class="btn" src="img/Button_RedCross.png" width="24" height="24" alt="Кнопка: отменить" /></td>
    <td class="vcenter">Отменить выбранную в списке операцию и все операции, выполненные позже нее.</td>
  </tr>
  <tr>
    <td class="allcenter">
    <img class="btn" src="img/Button_Uncheck.png" width="24" height="24" alt="Кнопка: не отменять" /></td>
    <td class="vcenter">Не отменять выбранную в списке операцию и все операции, выполненные раньше нее.</td>
  </tr>
</table>
</div></div>

<p>Для отмены выбранных операций следует нажать одноименную кнопку в нижней части окна,
при этом в окне программы будут отображаться списки восстанавливаемых и удаляемых файлов и
результаты действий. Для возврата в главное окно программы следует нажать кнопку
&laquo;Назад&raquo;.</p>


<h1 id="light_undo">Удаление модулей</h1>

<p>При наличии установленных модулей обновления в правой части
<a href="#pic_main">главного окна</a> программы будет активна кнопка &laquo;Удаление модулей&raquo;,
с помощью которой можно удалить один или несколько модулей по выбору пользователя. В отличие от
<a href="#light_undo">отмены операций</a>, которая отменяет всю операцию целиком, здесь можно
выбрать для удаления отдельные модули, даже если они былы установлены вместе.</p>

<p>При нажатии кнопки &laquo;Удаление модулей&raquo; в окне программы отображается
<a href="#pic_uninstall">список установленных модулей</a>, аналогичный списку на вкладке
&laquo;Модули&raquo; <a href="#pic_setup_mod">окна настройки</a>.</p>

<div class="pic"><div class="container" id="pic_uninstall">
<img src="img/rdsget_uninstall.png" width="738" height="515" alt="Удаление модулей" />
<p id="light_pic_uninstall">Выбор модулей для удаления</p>
</div></div>

<p>В этом списке можно выбрать модули, которые будут удалены из RDS. Исходно слева от
названия каждого модуля отображается зеленая галочка. Для удаления выбранного
модуля следует щелкнуть левой кнопкой мыши на этой галочке, и она заменится на красный крест
&ndash; признак того, что модуль будет удален. Повторный щелчок отменяет удаление
и возвращает зеленую галочку. Можно также пользоваться кнопками справа от списка модулей:</p>

<div class="tablecenter"><div class="tcont">
<table>
  <tr>
    <th>Кнопка</th>
    <th>Действие</th>
  </tr>
  <tr>
    <td class="allcenter">
    <img class="btn" src="img/Button_GreenCheck.png" width="24" height="24" alt="Кнопка: оставить" /></td>
    <td class="vcenter">Отменить удаление выбраннго в списке модуля.</td>
  </tr>
  <tr>
    <td class="allcenter">
    <img class="btn" src="img/Button_RedCross.png" width="24" height="24" alt="Кнопка: удалить" /></td>
    <td class="vcenter">Удалить выбранный в списке модуль из состава RDS.</td>
  </tr>
</table>
</div></div>

<p>После того, как нужные модули выбраны, следует нажать кнопку &laquo;Удалить выбранные модули&raquo;
в нижней части окна, и модули будут удалены. Если в <a href="#light_setup">настройках программы</a>
разрешено создание резервных копий для отмены операций, все удаляемые файлы будут сохранены,
и удаление можно будет <a href="#light_undo">отменить</a> в числе прочих операций.</p>

<p>При удалении из RDS модуля, в который входит сама программа обновления, пользователю будет
показано предупреждение: без программы обновления будет уже невозможно установить
новые модули или отменить удаление. Если пользователь все же решит удалить программу,
ее exe-файл будет удален только после ее закрытия (файл работающей программы
в Windows удалить невозможно). <span class="emph">Следует иметь в виду</span>,
что для такого удаления в папке временных файлов Windows будет создана
вспомогательная программа &laquo;rdscopier.exe&raquo;, ожидающая закрытия программы обновления,
и некоторые антивирусы могут счесть это подозрительной активностью. Следует
либо разрешить программе &laquo;rdscopier.exe&raquo; удаление файлов и запись
в реестр Windows (эта программа должна запланировать собственное удаление при перезагрузке),
либо удалить главный исполняемый файл программы обновления &laquo;RdsGet.exe&raquo;
вручную.</p>

</div>

<p class="bottom"><a href="index.html#light_rdsget">Назад</a></p>

</body>
</html>

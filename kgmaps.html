<!DOCTYPE html>
<html lang="ru" xml:lang="ru">
<head>
  <title>Описание блоков когнитивных карт</title>
</head>
<body>
<pre>
Для построения когнитивных карт в РДС достаточно использование образцов
единственного специального блока "Узел когнитивной карты" (в дальнейшем "Узел").

Входы\выходы узла:
x - массив входных значений узла на текущем шаге моделирования;
init - задаваемое со внешнего блока начальное значение узла;
y - выходное значение узла на текущем шаге моделирования.

Для соединения узла "А" с узлом "Б" выход "y" узла "А" нужно соединить со входом x[i] узла "Б"
(где i - первый свободный индекс массива, определяется автоматически).

Узел имеет окно настройки, которое вызывается по двойному щелчку,
а также при выборе пункта "Настройка" в меню блока.

Настройки узла включают:
- Подпись узла (выводится по центру эллипса, обозначающего узел);
- Цвет заливки узла;
- Отображать\не отображать текущее значение "y";
- Начальное значение "y";
- Тип функции (см. далее).

Узел может выполнять одну из трёх типов функции и работать в одном из двух режимов.

Типы функции:
- Сложение;
- Умножение;
- Источник;
- Порог.

Режимы работы:
- По абсолютным значениям;
- По приращениям.

При выборе функции Источник выходное значение узла всегда будет равно его исходному значению
независимо от режима работы. При поступлении в ходе моделирования на вход задания исходного значения (init)
значения, отличного от принятого ранее, текущее значение узла приравнивается init (т.е. новому исходному значению).

При выборе функции Сложение в режиме работы по абсолютным значениям входные значения x[i] складываются
и присваиваются текущему выходному значению.

При выборе функции Сложение в режиме работы по приращениям складываются приращения входных значений x[i]-x0[i]
(где x0[i] - значение входа x[i] на прошлом шаге расчёта), после чего получившаяся сумма
складывается со значением выхода на прошлом шаге и результат присваивается текущему выходному значению.

Функция Умножение для обоих режимов принципиально не отличается от функции Сложение -
- единственным отличием является перемножение абсолютных значений\приращений входных переменных узла,
а не их суммирование.

Функция Порог предназначена для использования блока в качестве элемента пороговой сети.
Узел может иметь неограниченное колличество порогов. При значении суммы входных значений узла,
превышающей значение порога, выходное значение "y" приравнивается установленному выходному значению
для данного порога. Так происходит в цикле до максимального значения порога.
Если сумма входных значений узла не превосходит ниодин порог, выходное значение "y" приравнивается
специальному значению, называемому "выходным значением при недостижении наименьшего порога".
Настройки порогов узла производятся в окне настроек блока на вкладке "Пороги".

Переключение режима работы всех узлов подсистемы осуществляется выбором пункта меню
"Работа карты по абсолютным значениям" или "Работа карты по приращениям" любого узла подсистемы
(один любой узел подсистемы может командовать всеми узлами данной подсистемы).

Все входные связи блока обретают свои настройки (все входные связи узлов становятся "связями когнтивной карты"),
окно задания которых вызывается по двойному щелчку, а также при выборе пункта меню связи "Задание функции связи".

Настройки связи когнитивной карты включают:
- Тип функции (Коэффициент\Произвольная функция);
- Коэффициент (значение коэффициента, на которое будет умножено значение,
	передаваемое по связи, в случае выбора типа функции "Коэффициент");
- Произвольная функция (правая часть математического выражения над переменной "y" в синтаксисе С, пример см. далее)

Пример текста произвольной функции "синус передаваемого значения плюс передаваемое значение умноженное на два":
sin(y)+y*2
В результате узлом внутри своей модели автоматически будет сформирован код
y=sin(y)+y*2;
Пользователь не должен вводить данное выражением целиком, только правую часть,
иначе при компилировании узла, в который входит данная связь, произойдёт ошибка.
Ввод завершающего символа ";" не приведёт к ошибке,
но вводить завершающий символ ";" при вводе текста произвольной функции не требуется.

Особенностью блока узел когнитивной карты является то, что он сам,
в соответствии с задаваемыми пользователем функциямии связей,
меняет свою модель и перекомпилирует свой файл DLL.

Возможны ситуации, когда требуется принудительно перекомпилировать файлы DLL всех узлов когнитивной карты,
например, при изменении (улучшении) эталонной модели (RDS\Include\kkmaps\knode.mdl) -
- для этой цели в меню узла предусмотрен пункт меню "Перекомпилировать все узлы".
</pre>
</body>
</html>
